# ADISE20_Gomoku
Table of Contents
=================
   * [Εγκατάσταση](#εγκατάσταση)
      * [Απαιτήσεις](#απαιτήσεις)
      * [Οδηγίες Εγκατάστασης](#οδηγίες-εγκατάστασης)
   * [Περιγραφή API](#περιγραφή-api)
      * [Methods](#methods)
         * [Board](#board)
            * [Ανάγνωση Board](#ανάγνωση-board)
            * [Αρχικοποίηση Board](#αρχικοποίηση-board)
         * [Status](#status)
            * [Ανάγνωση κατάστασης παιχνιδιού](#ανάγνωση-κατάστασης-παιχνιδιού)
         * [Player](#player)
            * [Ανάγνωση στοιχείων παίκτη](#ανάγνωση-στοιχείων-παίκτη)
            * [Καθορισμός στοιχείων παίκτη](#καθορισμός-στοιχείων-παίκτη)

      * [Entities](#entities)
         * [Board](#board-1)
         * [Players](#players)
         * [Game_status](#game_status)


# Demo Page

Μπορείτε να κατεβάσετε τοπικά ή να επισκευτείτε την σελίδα: 
https://users.iee.ihu.gr/~it164787/Gomoku/



# Εγκατάσταση

## Απαιτήσεις

* Apache2
* Mysql Server
* php

## Οδηγίες Εγκατάστασης

 * Κάντε clone το project σε κάποιον φάκελο <br/>
  `$ git clone https://github.com/iee-ihu-gr-course1941/ADISE20_Gomoku.git`

 * Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. πιθανόν να χρειαστεί να καθορίσετε τις παρακάτω ρυθμίσεις.

 * Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'adise19_chess5' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο DB/schema5.sql

 * Θα πρέπει να φτιάξετε το αρχείο lib/config_local.php το οποίο να περιέχει:
```
    <?php
	$DB_PASS = 'κωδικός';
	$DB_USER = 'όνομα χρήστη';
    ?>
```

# Περιγραφή Παιχνιδιού

Το όνομα "Gomoku" προέρχεται από την ιαπωνική γλώσσα, στην οποία αναφέρεται ως gomokunarabe (五 目 並 べ). Το Go σημαίνει πέντε, το moku είναι μία λέξη για τα πιόνια και το narabe σημαίνει σε σειρά.

_Το gomoku παίζεται ως εξής:_

Δύο παίχτες αφού διαλέξουν από ένα χρώμα ο καθένας (άσπρο ή μαύρο) αρχίζουν και τοποθετούν ένα-ένα τα πιόνια τους στον πίνακα. Ο πρώτος από τους δύο παίχτες που θα συπληρώσει 5 συνεχόμενα πιόνια κερδίζει!

_Οι κανόνες είναι απλοί._

Αφού τοποθετήσει ο πρώτος παίχτης ένα πιόνι σε οποιοδήποτε κελί του πίνακα θέλει, πρέπει να περιμένει την σειρά του αντιπάλου του να κάνει το ίδιο. Και το παιχνίδι συνεχίζεται έως ότου βγει ένας από τους δύο νικητής.




_Η βάση μας κρατάει τους εξής πίνακες:_
**board, board_empty, game_status** και **players**.

Η εφαρμογή απαπτύχθηκε από την αρχή όπου οι χρήστες συνδέονται στο παιχνίδι, εμφανίζεται ποιανού σειρά είναι καθώς και οι υπόλοιπες πληροφορίες, μέχρι και την στιγμή όπου ο πρώτος παίχτης επιλέγει την κίνηση του. Σε αυτό το σημείο όλος ο κώδικας μέχρι και το πως βγαίνει κάποιος νικητής έχουν υλοποιηθεί αλλά το παιχνίδι ενώ διαβάζει τις πληροφορίες των συντεταγμένων δεν περνάνε στην βάση με αποτέλεσμα η κίνηση να μην συμβαίνει ποτέ. :'(

## Συντελεστές
**Ομάδα:**

- Άννα Αρχιτεκτονίδου (1)
- Βαλεντίνα Αρχιτεκτονίδου (2)

Περιγράψτε τις αρμοδιότητες της ομάδας.

Προγραμματιστής 1: HTML/CSS (40%), DB (45%), PHP/API (55%)

Προγραμματιστής 2: HTML/CSS (60%), DB (55%), PHP/API (45%)



# Περιγραφή API

## Methods


### Board
#### Ανάγνωση Board

```
GET /board/
```

Επιστρέφει το [Board](#Board).

#### Αρχικοποίηση Board
```
POST /board/reset/
```

Αρχικοποιεί το Board, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
Επιστρέφει το [Board](#Board).

#### Εισαγωγή κίνησης στο Board

```
PUT /board/move/
```

Εκχωρεί στο [Board](#Board) στην στήλη και γραμμή που θέλει ο παίκτης το πιόνι του μετά από έλεγχο του token. Επιστρέφει το [Board](#Board) ενημερωμένο.

### Status
#### Ανάγνωση κατάστασης παιχνιδιού

```
GET /status/
```

Επιστρέφει το στοιχείο [Game_status](#Game_status).


### Player

#### Ανάγνωση στοιχείων παίκτη

```
GET /players/
```

Επιστρέφει τα στοιχεία του παίκτη p ή όλων των παικτών αν παραληφθεί. Το p μπορεί να είναι 'B' ή 'W'.




#### Καθορισμός στοιχείων παίκτη
```
PUT /players/:p
```
Json Data:

| Field             | Description                 | Required   |
| ----------------- | --------------------------- | ---------- |
| `username`        | Το username για τον παίκτη p.  | yes        |
| `color`           | To χρώμα που επέλεξε ο παίκτης p. | yes        |


Επιστρέφει τα στοιχεία του παίκτη p και ένα token. Το token πρέπει να το χρησιμοποιεί ο παίκτης καθόλη τη διάρκεια του παιχνιδιού.


## Entities



### Board
---------

Το board είναι ένας πίνακας, ο οποίος στο κάθε στοιχείο έχει τα παρακάτω:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `x`                      | H συντεταγμένη x του τετραγώνου              | 1..15                                |
| `y`                      | H συντεταγμένη y του τετραγώνου              | 1..15                                |
| `piece_color`             | To χρώμα του τετραγώνου                      | 'B','W','null'                      |



### Players
---------

O κάθε παίκτης έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `username`               | Όνομα παίκτη                                 | String                              |
| `piece_color`            | To χρώμα που παίζει ο παίκτης                | 'B','W'                             |
| `token  `                | To κρυφό token του παίκτη. Επιστρέφεται μόνο τη στιγμή της εισόδου του παίκτη στο παιχνίδι | HEX |
| `last_change`             |Τελευταία ενέργεια του παίκτη         | timestamp |


### Game_status
---------

H κατάσταση παιχνιδιού έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `status  `               | Κατάσταση             | 'not active', 'initialized', 'started', 'ended', 'aborded'     |
| `p_turn`                 | To χρώμα του παίκτη που παίζει        | 'B','W',null                              |
| `result`                 |  To χρώμα του παίκτη που κέρδισε |'B','W',null                              |
| `last_change`            | Τελευταία αλλαγή/ενέργεια στην κατάσταση του παιχνιδιού         | timestamp |
